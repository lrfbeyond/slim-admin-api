webpackJsonp([5],{"3iJM":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{url:"/api/comment",addForm:{id:"",username:"",article_title:"",ip:"",message:"",created_at:"",reply:"",is_reply:0},rules:{reply:[{required:!0,message:"请输入回复内容",trigger:"blur"},{max:200,message:"不能超过200个字符",trigger:"blur"}]}}},created:function(){console.log(this.url),this.getInfo()},methods:{submit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r=t.addForm,a={id:r.id,aid:r.article_id,message:r.message,reply:r.reply};t.$axios.post(t.url+"/reply",a).then(function(e){"success"===e.data.result?(t.$message({message:"回复成功！",type:"success"}),t.$router.push("/comment")):t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("出错了"),console.log(e)})})},goBack:function(){this.$router.go(-1)},getInfo:function(){var e=this,t=this.$route.params.id;t?this.$axios.get(this.url+"/"+t).then(function(t){"failed"===t.data.result?e.$message.error(t.data.message):e.addForm=t.data.row}).catch(function(t){e.$message.error("请求数据没有响应！")}):this.addForm.id=null}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"hw-comment-add"}},[r("div",{staticClass:"page-boxtitle"},[r("strong",{staticClass:"title"},[e._v("回复评论")]),e._v(" "),r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("评论")]),e._v(" "),r("el-breadcrumb-item",[e._v("回复评论")])],1)],1),e._v(" "),r("el-form",{ref:"addForm",staticClass:"demo-ruleForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"},on:{submit:function(t){t.preventDefault(),e.submit()}}},[r("el-form-item",{attrs:{label:"文章"}},[e._v("\n        "+e._s(e.addForm.article_title)+"\n      ")]),e._v(" "),r("el-form-item",{attrs:{label:"用户名"}},[e._v("\n        "+e._s(e.addForm.author_name)+"\n      ")]),e._v(" "),r("el-form-item",{attrs:{label:"IP",prop:"ip"}},[e._v("\n        "+e._s(e.addForm.ip)+"\n      ")]),e._v(" "),r("el-form-item",{attrs:{label:"评论内容",prop:"message"}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.addForm.message,callback:function(t){e.$set(e.addForm,"message",t)},expression:"addForm.message"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"评论时间"}},[e._v("\n        "+e._s(e.addForm.created_at)+"\n      ")]),e._v(" "),r("el-form-item",{attrs:{label:"回复内容",prop:"reply"}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.addForm.reply,callback:function(t){e.$set(e.addForm,"reply",t)},expression:"addForm.reply"}})],1),e._v(" "),e.addForm.is_reply?r("el-form-item",{attrs:{label:"回复时间"}},[e._v("\n        "+e._s(e.addForm.updated_at)+"\n      ")]):e._e(),e._v(" "),r("el-form-item",{staticStyle:{"margin-top":"60px"}},[r("el-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(t){t.preventDefault(),e.submit("addForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){e.goBack()}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]};var o=r("Z0/y")(a,s,!1,function(e){r("p6Wk")},"data-v-5a9bd34b",null);t.default=o.exports},p6Wk:function(e,t){}});
//# sourceMappingURL=5.d7b8f100fbb002bbeb91.js.map